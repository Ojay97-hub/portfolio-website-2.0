import{r as e,j as a,b as r,s as t}from"./react-vendor-B0mTQZX7.js";import{m as n,A as s}from"./motion-virywPL6.js";function o({options:o,value:i,onChange:l,placeholder:c="Select...",className:d="",icon:u=null}){const[m,x]=e.useState(!1),p=e.useRef(null),b=o.find(e=>e.value===i);return e.useEffect(()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&x(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),e.useEffect(()=>{const e=e=>{"Escape"===e.key&&x(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),a.jsxs("div",{ref:p,className:`relative ${d}`,children:[a.jsxs("button",{type:"button",onClick:()=>x(!m),className:`\n                    w-full flex items-center justify-between gap-3\n                    px-4 py-3 rounded-xl\n                    bg-surface/80 backdrop-blur-sm\n                    border-2 transition-all duration-300\n                    text-left font-medium\n                    ${m?"border-primary shadow-lg shadow-primary/10":"border-border hover:border-primary/50 hover:shadow-md"}\n                `,"aria-haspopup":"listbox","aria-expanded":m,children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u&&a.jsx(u,{size:18,className:"text-primary shrink-0"}),b?.icon&&a.jsx(b.icon,{size:16,className:"text-primary shrink-0"}),a.jsx("span",{className:"truncate "+(b?"text-foreground":"text-muted-foreground"),children:b?.label||c})]}),a.jsx(n.div,{animate:{rotate:m?180:0},transition:{duration:.2},className:"shrink-0",children:a.jsx(r,{size:18,className:"text-muted-foreground"})})]}),a.jsx(s,{children:m&&a.jsx(n.ul,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"\n                            absolute z-50 left-0 right-0 mt-2\n                            py-2 rounded-xl\n                            bg-surface/95 backdrop-blur-xl\n                            border-2 border-border\n                            shadow-xl shadow-black/10\n                            max-h-64 overflow-y-auto\n                            scrollbar-thin scrollbar-thumb-border scrollbar-track-transparent\n                        ",role:"listbox",children:o.map((e,r)=>{const s=e.value===i,o=e.icon;return a.jsx(n.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.03*r},children:a.jsxs("button",{type:"button",onClick:()=>(e=>{l(e.value),x(!1)})(e),className:`\n                                            w-full flex items-center gap-3 px-4 py-2.5\n                                            text-left transition-all duration-200\n                                            ${s?"bg-primary/10 text-primary font-semibold":"text-foreground hover:bg-surface-hover"}\n                                        `,role:"option","aria-selected":s,children:[o&&a.jsx(o,{size:16,className:s?"text-primary":"text-muted-foreground"}),a.jsx("span",{className:"flex-1 truncate",children:e.label}),s&&a.jsx(n.div,{initial:{scale:0},animate:{scale:1},className:"shrink-0",children:a.jsx(t,{size:16,className:"text-primary"})})]})},e.value)})})})]})}export{o as C};
